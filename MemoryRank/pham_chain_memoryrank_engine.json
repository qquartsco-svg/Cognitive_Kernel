[
  {
    "index": 0,
    "timestamp": 1769600556.786083,
    "data": {
      "name": "GENESIS"
    },
    "hash": "0"
  },
  {
    "index": 1,
    "timestamp": 1769600556.7860851,
    "data": {
      "title": "memoryrank_engine.py",
      "author": "GNJz (Qquarts)",
      "timestamp": "2026-01-28 22:42:36",
      "hash": "696d8760b66830bf5ea4a4b17880ddd30cf66922ddfe9418d037a277505f6840",
      "cid": "QmWLvLCU7vmiFkymVfZxVWYNrazHD6jrNDjkUZpAT7AT59",
      "description": "MemoryRank Engine v1.0.0 - Google PageRank based memory importance ranking",
      "score": 0.9997,
      "label": "A_HIGH",
      "signals": {
        "byte": 1.0,
        "text": 1.0,
        "ast": 0.9991311902693311,
        "exec": 0.0
      },
      "exec_output": "",
      "raw_bytes": "66726f6d205f5f6675747572655f5f20696d706f727420616e6e6f746174696f6e730a0a66726f6d2064617461636c617373657320696d706f72742064617461636c6173730a66726f6d20747970696e6720696d706f727420446963742c204c6973742c205475706c652c204f7074696f6e616c2c204974657261626c650a0a696d706f7274206e756d7079206173206e700a0a66726f6d202e636f6e66696720696d706f7274204d656d6f727952616e6b436f6e6669670a0a0a4064617461636c6173730a636c617373204d656d6f72794e6f6465417474726962757465733a0a20202020222222eab08120eba994ebaaa8eba6ac20eb85b8eb939cec9d9820ebb2a0ec9db4ec8aa420eca491ec9a94eb8f8420eab5acec84b120ec9a94ec868c2e0a0a20202020726563656e63792020202020203a20ecb59ceab7bcec84b12028307e312c20ecb59ceab7bcec9dbcec8898eba19d2031ec979020eab080eab98cec9b80290a20202020656d6f74696f6e2020202020203a20eca095ec849c20eab095eb8f842028307e312c20eab095eba0aced95a0ec8898eba19d20eb8692ec9d8c290a202020206672657175656e6379202020203a20eb93b1ec9ea52fec9eacec839d20ebb988eb8f842028307e312c20ec9e90eca3bc20eb93b1ec9ea5ed95a0ec8898eba19d20eb8692ec9d8c290a20202020626173655f696d706f7274616e63653a20ec99b8ebb680ec9790ec849c20eca781eca09120eca3bceb8a9420eab8b0ebb3b820eab080eca491ecb9982028ec84a0ed839d290a202020202222220a0a20202020726563656e63793a20666c6f6174203d20302e300a20202020656d6f74696f6e3a20666c6f6174203d20302e300a202020206672657175656e63793a20666c6f6174203d20302e300a20202020626173655f696d706f7274616e63653a20666c6f6174203d20302e300a0a0a636c617373204d656d6f727952616e6b456e67696e653a0a202020202222224d656d6f727952616e6b456e67696e652076312e300a0a202020202d20ec9e85eba0a53a0a20202020202020202a20eba994ebaaa8eba6ac20eb85b8eb939c206964202873747220eb93b1206861736861626c65290a20202020202020202a2064697265637465642065646765733a20287372635f69642c206473745f69642c20776569676874290a20202020202020202a20ec84a0ed839deca081ec9cbceba19c20eb85b8eb939c20ec868dec84b12028726563656e63792c20656d6f74696f6e2c206672657175656e63792c20626173655f696d706f7274616e6365290a0a202020202d20eb82b4ebb68020ed919ced98843a0a20202020202020202a20eb85b8eb939c20696420e2869420696e64657820eba7a4ed95910a20202020202020202a20ec97b420eca095eab79ced9994eb909c20eca084ec9db420ed9689eba0ac204d20284e2078204e290a20202020202020202a20706572736f6e616c697a6174696f6e20766563746f72207620284e290a0a202020202d20ecb69ceba0a53a0a20202020202020202a207b6e6f64655f69643a2072616e6b5f73636f72657d20eb9495ec8594eb8488eba6ac0a20202020202020202a206765745f746f705f6d656d6f72696573286e2920eba19c20ec8381ec9c84206eeab09c20eca1b0ed9a8c0a202020202222220a0a20202020646566205f5f696e69745f5f2873656c662c20636f6e6669673a204f7074696f6e616c5b4d656d6f727952616e6b436f6e6669675d203d204e6f6e65293a0a202020202020202073656c662e636f6e666967203d20636f6e666967206f72204d656d6f727952616e6b436f6e66696728290a202020202020202073656c662e5f69645f746f5f696e6465783a20446963745b7374722c20696e745d203d207b7d0a202020202020202073656c662e5f696e6465785f746f5f69643a204c6973745b7374725d203d205b5d0a202020202020202073656c662e5f4d3a204f7074696f6e616c5b6e702e6e6461727261795d203d204e6f6e65202023207472616e736974696f6e206d61747269780a202020202020202073656c662e5f763a204f7074696f6e616c5b6e702e6e6461727261795d203d204e6f6e6520202320706572736f6e616c697a6174696f6e20766563746f720a202020202020202073656c662e5f723a204f7074696f6e616c5b6e702e6e6461727261795d203d204e6f6e65202023206c61746573742072616e6b20766563746f720a0a2020202023202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d0a202020202320eab7b8eb9e98ed948420eab5acec84b10a2020202023202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d0a20202020646566206275696c645f6772617068280a202020202020202073656c662c0a202020202020202065646765733a204974657261626c655b5475706c655b7374722c207374722c20666c6f61745d5d2c0a20202020202020206e6f64655f617474726962757465733a204f7074696f6e616c5b446963745b7374722c204d656d6f72794e6f6465417474726962757465735d5d203d204e6f6e652c0a2020202029202d3e204e6f6e653a0a2020202020202020222222eba994ebaaa8eba6ac20eab7b8eb9e98ed9484eba5bc20eab5acec84b1ed959ceb8ba42e0a0a202020202020202065646765733a0a202020202020202020202020287372635f69642c206473745f69642c207765696768742920ec9db4ed84b0eb9facebb8940a2020202020202020202020202273726320eab8b0ec96b5ec9d8420eb96a0ec98aceba6aceba9b420647374eba19c20eca084ec9db4eb90a020eab080eb8aa5ec84b1ec9db420ec9e88eb8ba422eb8a9420ec9d98ebafb80a0a20202020202020206e6f64655f617474726962757465733a0a202020202020202020202020eab08120eb85b8eb939cebb384204d656d6f72794e6f6465417474726962757465730a202020202020202020202020ec9786ec9cbceba9b420eab7a0eb93b1ed959c20ebb2a0ec9db4ec8aa420eca491ec9a94eb8f84eba5bc20ec82acec9aa90a20202020202020202222220a20202020202020202320eb85b8eb939c20ec8898eca7910a20202020202020206e6f64655f6964733a20446963745b7374722c204e6f6e655d203d207b7d0a2020202020202020666f7220732c20642c205f20696e2065646765733a0a2020202020202020202020206e6f64655f6964735b735d203d204e6f6e650a2020202020202020202020206e6f64655f6964735b645d203d204e6f6e650a0a202020202020202073656c662e5f696e6465785f746f5f6964203d20736f72746564286e6f64655f6964732e6b6579732829290a202020202020202073656c662e5f69645f746f5f696e646578203d207b6e69643a206920666f7220692c206e696420696e20656e756d65726174652873656c662e5f696e6465785f746f5f6964297d0a20202020202020206e203d206c656e2873656c662e5f696e6465785f746f5f6964290a20202020202020206966206e203d3d20303a0a20202020202020202020202073656c662e5f4d203d204e6f6e650a20202020202020202020202073656c662e5f76203d204e6f6e650a20202020202020202020202073656c662e5f72203d204e6f6e650a20202020202020202020202072657475726e0a0a20202020202020202320eab080eca491ecb99820ed9689eba0ac20575b692c206a5d203d206a202d3e206920eba19cec9d98207765696768740a202020202020202057203d206e702e7a65726f7328286e2c206e292c2064747970653d666c6f6174290a2020202020202020666f72207372632c206473742c207720696e2065646765733a0a20202020202020202020202069662077203c3d20303a0a20202020202020202020202020202020636f6e74696e75650a202020202020202020202020696620737263206e6f7420696e2073656c662e5f69645f746f5f696e646578206f7220647374206e6f7420696e2073656c662e5f69645f746f5f696e6465783a0a20202020202020202020202020202020636f6e74696e75650a20202020202020202020202069203d2073656c662e5f69645f746f5f696e6465785b6473745d0a2020202020202020202020206a203d2073656c662e5f69645f746f5f696e6465785b7372635d0a202020202020202020202020575b692c206a5d202b3d20666c6f61742877290a0a20202020202020202320ec97b420eca095eab79ced999420e2869220eca084ec9db420ed9689eba0ac204d0a2020202020202020636f6c5f73756d73203d20572e73756d28617869733d30290a20202020202020204d203d206e702e7a65726f735f6c696b652857290a2020202020202020666f72206a20696e2072616e6765286e293a0a202020202020202020202020696620636f6c5f73756d735b6a5d203e20303a0a202020202020202020202020202020204d5b3a2c206a5d203d20575b3a2c206a5d202f20636f6c5f73756d735b6a5d0a202020202020202020202020656c73653a0a2020202020202020202020202020202023206f75742d6465677265652030ec9db4eba9b420ebaaa8eb93a020eb85b8eb939ceba19c20eab7a0eb93b120ebb684ed8fac0a202020202020202020202020202020204d5b3a2c206a5d203d20312e30202f206e0a202020202020202073656c662e5f4d203d204d0a0a20202020202020202320706572736f6e616c697a6174696f6e20766563746f72207620ec839dec84b10a202020202020202073656c662e5f76203d2073656c662e5f6275696c645f706572736f6e616c697a6174696f6e5f766563746f72286e6f64655f61747472696275746573290a0a20202020202020202320eab8b0eca1b42072616e6beb8a9420ebacb4ed9aa8ed99940a202020202020202073656c662e5f72203d204e6f6e650a0a20202020646566205f6275696c645f706572736f6e616c697a6174696f6e5f766563746f72280a202020202020202073656c662c0a20202020202020206e6f64655f617474726962757465733a204f7074696f6e616c5b446963745b7374722c204d656d6f72794e6f6465417474726962757465735d5d2c0a2020202029202d3e206e702e6e6461727261793a0a2020202020202020222222eb85b8eb939c20ec868dec84b1ec9d8420ec9db4ec9aa9ed95b420706572736f6e616c697a6174696f6e20766563746f72207620eba5bc20eba78ceb93a0eb8ba42e2222220a20202020202020206e203d206c656e2873656c662e5f696e6465785f746f5f6964290a20202020202020206966206e203d3d20303a0a20202020202020202020202072657475726e206e702e7a65726f7328302c2064747970653d666c6f6174290a0a20202020202020206966206e6f64655f61747472696275746573206973204e6f6e653a0a20202020202020202020202072657475726e206e702e6f6e6573286e2c2064747970653d666c6f617429202f20666c6f6174286e290a0a2020202020202020636667203d2073656c662e636f6e6669670a2020202020202020726177203d206e702e7a65726f73286e2c2064747970653d666c6f6174290a0a2020202020202020666f72206964782c206e696420696e20656e756d65726174652873656c662e5f696e6465785f746f5f6964293a0a2020202020202020202020206174747273203d206e6f64655f617474726962757465732e676574286e6964290a2020202020202020202020206966206174747273206973204e6f6e653a0a202020202020202020202020202020207261775b6964785d203d20312e300a20202020202020202020202020202020636f6e74696e75650a0a20202020202020202020202073636f7265203d20280a202020202020202020202020202020206366672e726563656e63795f776569676874202a206d61782861747472732e726563656e63792c20302e30290a202020202020202020202020202020202b206366672e656d6f74696f6e5f776569676874202a206d61782861747472732e656d6f74696f6e2c20302e30290a202020202020202020202020202020202b206366672e6672657175656e63795f776569676874202a206d61782861747472732e6672657175656e63792c20302e30290a202020202020202020202020202020202b206d61782861747472732e626173655f696d706f7274616e63652c20302e30290a202020202020202020202020290a2020202020202020202020207261775b6964785d203d2073636f72652069662073636f7265203e20302e3020656c736520312e300a0a2020202020202020746f74616c203d20666c6f6174287261772e73756d2829290a2020202020202020696620746f74616c203d3d20302e303a0a20202020202020202020202072657475726e206e702e6f6e6573286e2c2064747970653d666c6f617429202f20666c6f6174286e290a202020202020202072657475726e20726177202f20746f74616c0a0a2020202023202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d0a202020202320eb9eaded81ac20eab384ec82b00a2020202023202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d0a202020206465662063616c63756c6174655f696d706f7274616e63652873656c6629202d3e20446963745b7374722c20666c6f61745d3a0a20202020202020202222225061676552616e6b20ebb098ebb3b5ec9d8420ed86b5ed95b420eba994ebaaa8eba6ac20eca491ec9a94eb8f8420eca090ec8898eba5bc20eab384ec82b0ed959ceb8ba42e0a0a2020202020202020ebb098ed99983a0a2020202020202020202020207b6e6f64655f69643a2072616e6b5f73636f72657d2028ed95a920e2898820312e30290a20202020202020202222220a202020202020202069662073656c662e5f4d206973204e6f6e65206f722073656c662e5f76206973204e6f6e653a0a20202020202020202020202072616973652052756e74696d654572726f7228224772617068206973206e6f74206275696c742e2063616c6c206275696c645f677261706828292066697273742e22290a0a20202020202020206e203d2073656c662e5f4d2e73686170655b305d0a20202020202020206966206e203d3d20303a0a20202020202020202020202072657475726e207b7d0a0a202020202020202072203d206e702e6f6e6573286e2c2064747970653d666c6f617429202f20666c6f6174286e290a2020202020202020616c706861203d20666c6f61742873656c662e636f6e6669672e64616d70696e67290a0a2020202020202020666f72205f20696e2072616e67652873656c662e636f6e6669672e6d61785f69746572293a0a202020202020202020202020725f6e657874203d20616c706861202a202873656c662e5f4d2040207229202b2028312e30202d20616c70686129202a2073656c662e5f760a2020202020202020202020206966206e702e6c696e616c672e6e6f726d28725f6e657874202d20722c203129203c2073656c662e636f6e6669672e746f6c3a0a2020202020202020202020202020202072203d20725f6e6578740a20202020202020202020202020202020627265616b0a20202020202020202020202072203d20725f6e6578740a0a2020202020202020725f73756d203d20666c6f617428722e73756d2829290a2020202020202020696620725f73756d203e20302e303a0a20202020202020202020202072203d2072202f20725f73756d0a0a202020202020202073656c662e5f72203d20720a202020202020202072657475726e207b6e69643a20666c6f61742873636f72652920666f72206e69642c2073636f726520696e207a69702873656c662e5f696e6465785f746f5f69642c2072297d0a0a20202020646566206765745f746f705f6d656d6f726965732873656c662c206b3a20696e74203d20313029202d3e204c6973745b5475706c655b7374722c20666c6f61745d5d3a0a2020202020202020222222eca491ec9a94eb8f8420ec8381ec9c84206beab09cec9d9820286e6f64655f69642c2073636f72652920eba6acec8aa4ed8ab8eba5bc20eb82b4eba6bcecb0a8ec889cec9cbceba19c20ebb098ed99982e2222220a202020202020202069662073656c662e5f72206973204e6f6e653a0a20202020202020202020202073656c662e63616c63756c6174655f696d706f7274616e636528290a0a20202020202020206173736572742073656c662e5f72206973206e6f74204e6f6e650a20202020202020206e203d206c656e2873656c662e5f72290a20202020202020206b203d206d617828302c206d696e286b2c206e29290a20202020202020206966206b203d3d20303a0a20202020202020202020202072657475726e205b5d0a0a20202020202020206964785f736f72746564203d206e702e617267736f7274282d73656c662e5f72295b3a6b5d0a202020202020202072657475726e205b0a2020202020202020202020202873656c662e5f696e6465785f746f5f69645b695d2c20666c6f61742873656c662e5f725b695d29290a202020202020202020202020666f72206920696e206964785f736f727465640a20202020202020205d0a0a20202020646566206765745f72616e6b5f766563746f722873656c6629202d3e20446963745b7374722c20666c6f61745d3a0a2020202020202020222222eba788eca780eba789ec9cbceba19c20eab384ec82b0eb909c20eb9eaded81ac20ebb2a1ed84b0eba5bc20eab7b8eb8c80eba19c20ebb098ed99982e2222220a202020202020202069662073656c662e5f72206973204e6f6e653a0a20202020202020202020202073656c662e63616c63756c6174655f696d706f7274616e636528290a0a20202020202020206173736572742073656c662e5f72206973206e6f74204e6f6e650a202020202020202072657475726e207b6e69643a20666c6f61742873636f72652920666f72206e69642c2073636f726520696e207a69702873656c662e5f696e6465785f746f5f69642c2073656c662e5f72297d0a",
      "raw_text": "from __future__ import annotations\n\nfrom dataclasses import dataclass\nfrom typing import Dict, List, Tuple, Optional, Iterable\n\nimport numpy as np\n\nfrom .config import MemoryRankConfig\n\n\n@dataclass\nclass MemoryNodeAttributes:\n    \"\"\"각 메모리 노드의 베이스 중요도 구성 요소.\n\n    recency      : 최근성 (0~1, 최근일수록 1에 가까움)\n    emotion      : 정서 강도 (0~1, 강렬할수록 높음)\n    frequency    : 등장/재생 빈도 (0~1, 자주 등장할수록 높음)\n    base_importance: 외부에서 직접 주는 기본 가중치 (선택)\n    \"\"\"\n\n    recency: float = 0.0\n    emotion: float = 0.0\n    frequency: float = 0.0\n    base_importance: float = 0.0\n\n\nclass MemoryRankEngine:\n    \"\"\"MemoryRankEngine v1.0\n\n    - 입력:\n        * 메모리 노드 id (str 등 hashable)\n        * directed edges: (src_id, dst_id, weight)\n        * 선택적으로 노드 속성 (recency, emotion, frequency, base_importance)\n\n    - 내부 표현:\n        * 노드 id ↔ index 매핑\n        * 열 정규화된 전이 행렬 M (N x N)\n        * personalization vector v (N)\n\n    - 출력:\n        * {node_id: rank_score} 딕셔너리\n        * get_top_memories(n) 로 상위 n개 조회\n    \"\"\"\n\n    def __init__(self, config: Optional[MemoryRankConfig] = None):\n        self.config = config or MemoryRankConfig()\n        self._id_to_index: Dict[str, int] = {}\n        self._index_to_id: List[str] = []\n        self._M: Optional[np.ndarray] = None  # transition matrix\n        self._v: Optional[np.ndarray] = None  # personalization vector\n        self._r: Optional[np.ndarray] = None  # latest rank vector\n\n    # ------------------------------------------------------------------\n    # 그래프 구성\n    # ------------------------------------------------------------------\n    def build_graph(\n        self,\n        edges: Iterable[Tuple[str, str, float]],\n        node_attributes: Optional[Dict[str, MemoryNodeAttributes]] = None,\n    ) -> None:\n        \"\"\"메모리 그래프를 구성한다.\n\n        edges:\n            (src_id, dst_id, weight) 이터러블\n            \"src 기억을 떠올리면 dst로 전이될 가능성이 있다\"는 의미\n\n        node_attributes:\n            각 노드별 MemoryNodeAttributes\n            없으면 균등한 베이스 중요도를 사용\n        \"\"\"\n        # 노드 수집\n        node_ids: Dict[str, None] = {}\n        for s, d, _ in edges:\n            node_ids[s] = None\n            node_ids[d] = None\n\n        self._index_to_id = sorted(node_ids.keys())\n        self._id_to_index = {nid: i for i, nid in enumerate(self._index_to_id)}\n        n = len(self._index_to_id)\n        if n == 0:\n            self._M = None\n            self._v = None\n            self._r = None\n            return\n\n        # 가중치 행렬 W[i, j] = j -> i 로의 weight\n        W = np.zeros((n, n), dtype=float)\n        for src, dst, w in edges:\n            if w <= 0:\n                continue\n            if src not in self._id_to_index or dst not in self._id_to_index:\n                continue\n            i = self._id_to_index[dst]\n            j = self._id_to_index[src]\n            W[i, j] += float(w)\n\n        # 열 정규화 → 전이 행렬 M\n        col_sums = W.sum(axis=0)\n        M = np.zeros_like(W)\n        for j in range(n):\n            if col_sums[j] > 0:\n                M[:, j] = W[:, j] / col_sums[j]\n            else:\n                # out-degree 0이면 모든 노드로 균등 분포\n                M[:, j] = 1.0 / n\n        self._M = M\n\n        # personalization vector v 생성\n        self._v = self._build_personalization_vector(node_attributes)\n\n        # 기존 rank는 무효화\n        self._r = None\n\n    def _build_personalization_vector(\n        self,\n        node_attributes: Optional[Dict[str, MemoryNodeAttributes]],\n    ) -> np.ndarray:\n        \"\"\"노드 속성을 이용해 personalization vector v 를 만든다.\"\"\"\n        n = len(self._index_to_id)\n        if n == 0:\n            return np.zeros(0, dtype=float)\n\n        if node_attributes is None:\n            return np.ones(n, dtype=float) / float(n)\n\n        cfg = self.config\n        raw = np.zeros(n, dtype=float)\n\n        for idx, nid in enumerate(self._index_to_id):\n            attrs = node_attributes.get(nid)\n            if attrs is None:\n                raw[idx] = 1.0\n                continue\n\n            score = (\n                cfg.recency_weight * max(attrs.recency, 0.0)\n                + cfg.emotion_weight * max(attrs.emotion, 0.0)\n                + cfg.frequency_weight * max(attrs.frequency, 0.0)\n                + max(attrs.base_importance, 0.0)\n            )\n            raw[idx] = score if score > 0.0 else 1.0\n\n        total = float(raw.sum())\n        if total == 0.0:\n            return np.ones(n, dtype=float) / float(n)\n        return raw / total\n\n    # ------------------------------------------------------------------\n    # 랭크 계산\n    # ------------------------------------------------------------------\n    def calculate_importance(self) -> Dict[str, float]:\n        \"\"\"PageRank 반복을 통해 메모리 중요도 점수를 계산한다.\n\n        반환:\n            {node_id: rank_score} (합 ≈ 1.0)\n        \"\"\"\n        if self._M is None or self._v is None:\n            raise RuntimeError(\"Graph is not built. call build_graph() first.\")\n\n        n = self._M.shape[0]\n        if n == 0:\n            return {}\n\n        r = np.ones(n, dtype=float) / float(n)\n        alpha = float(self.config.damping)\n\n        for _ in range(self.config.max_iter):\n            r_next = alpha * (self._M @ r) + (1.0 - alpha) * self._v\n            if np.linalg.norm(r_next - r, 1) < self.config.tol:\n                r = r_next\n                break\n            r = r_next\n\n        r_sum = float(r.sum())\n        if r_sum > 0.0:\n            r = r / r_sum\n\n        self._r = r\n        return {nid: float(score) for nid, score in zip(self._index_to_id, r)}\n\n    def get_top_memories(self, k: int = 10) -> List[Tuple[str, float]]:\n        \"\"\"중요도 상위 k개의 (node_id, score) 리스트를 내림차순으로 반환.\"\"\"\n        if self._r is None:\n            self.calculate_importance()\n\n        assert self._r is not None\n        n = len(self._r)\n        k = max(0, min(k, n))\n        if k == 0:\n            return []\n\n        idx_sorted = np.argsort(-self._r)[:k]\n        return [\n            (self._index_to_id[i], float(self._r[i]))\n            for i in idx_sorted\n        ]\n\n    def get_rank_vector(self) -> Dict[str, float]:\n        \"\"\"마지막으로 계산된 랭크 벡터를 그대로 반환.\"\"\"\n        if self._r is None:\n            self.calculate_importance()\n\n        assert self._r is not None\n        return {nid: float(score) for nid, score in zip(self._index_to_id, self._r)}\n"
    },
    "previous_hash": "0",
    "hash": "79c6b43daf2750b2b7a9deed4f133a0d1975c705dd14e66219eeaa8fca12f5a6"
  }
]