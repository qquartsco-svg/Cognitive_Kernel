[
  {
    "index": 0,
    "timestamp": 1769270815.082379,
    "data": {
      "name": "GENESIS"
    },
    "hash": "0"
  },
  {
    "index": 1,
    "timestamp": 1769270815.082381,
    "data": {
      "title": "basal_ganglia_engine.py",
      "author": "GNJz",
      "timestamp": "2026-01-25 03:06:55",
      "hash": "d19b8f8fe6f393db55859beddfb048e8016b09704097a7e45d674da052e09189",
      "cid": "QmXHD4qEMKwVVQCLd2WQrKdCKDktXqEodLZdGXv43Bh17K",
      "description": "Basal Ganglia Engine 초기 구현",
      "score": 0.9998,
      "label": "A_HIGH",
      "signals": {
        "byte": 1.0,
        "text": 1.0,
        "ast": 0.9994413407821229,
        "exec": 0.0
      },
      "exec_output": "",
      "raw_bytes": "2222220a426173616c2047616e676c696120456e67696e650aeab8b0eca080ed95b520ec9794eca784202d20ed9689eb8f9920ec84a0ed839d20ebb08f20ec8ab5eab48020ed9895ec84b120ec8b9cec8aa4ed859c0a0a417574686f723a20474e4a7a202851717561727473290a56657273696f6e3a20312e302e302d616c7068610a0aec839debacbced9599eca08120ebaaa8eb8db83a0a20202020eab8b0eca080ed95b5203d20eb878cec9d982022ed9689eb8f9920eab28cec9db4ed8ab8ed82a4ed8dbc220a202020200a20202020312e20ed9689eb8f9920ec84a0ed839d2028416374696f6e2053656c656374696f6e290a202020202020202d20ec97aceb9fac20ed9689eb8f9920ec98b5ec859820eca49120ed9598eb8298eba78c20ec8ba4ed96892028476f2f4e6f476f290a202020202020202d20eb8298eba8b8eca780eb8a9420ec96b5eca09c0a202020202020200a20202020322e20ec8ab5eab48020ed9895ec84b12028486162697420466f726d6174696f6e290a202020202020202d20ebb098ebb3b5eb909c20ed9689eb8f9920e2869220ec9e90eb8f99ed99940a202020202020202d20eca084eb9190ec97bd20ec9ab0ed9a8c20e2869220ebb9a0eba5b820ec8ba4ed96890a202020202020200a20202020332e20ebb3b4ec838120ed9599ec8ab52028526577617264204c6561726e696e67290a202020202020202d20eb8f84ed8c8cebafbc20ec8ba0ed98b820eab8b0ebb0980a202020202020202d20512d4c6561726e696e67eab3bc20ec9ca0ec82ac0a0aed95b5ec8bac20ec8898ec8b9d3a0a20202020512d76616c756520ec9785eb8db0ec9db4ed8ab83a205128732c612920e28690205128732c6129202b20ceb15b52202b20ceb3c2b76d617828512873272c61272929202d205128732c61295d0a20202020ed9689eb8f9920ec84a0ed839d3a2050286129203d20736f66746d6178285128732c6129202f20cf84290a20202020ec8ab5eab48020eab095eb8f843a2048203d2048202b20ceb2c2b72873756363657373202d2048290a20202020eb8f84ed8c8cebafbc20ebb3b4eca0953a20515f757064617465203d20515f75706461746520c2b7202831202b20445f626f6f7374290a0aecb0b8eab3a020eb85bcebacb83a0a202020202d20536368756c747a202831393937293a20446f70616d696e65207265776172642070726564696374696f6e0a202020202d20477261796269656c202832303038293a204861626974732c2072697475616c732c20616e6420746865206576616c75617469766520627261696e0a202020202d204672616e6b202832303035293a20476f2f4e6f476f206d6f64656c206f6620626173616c2067616e676c69610a2222220a0a696d706f7274206d6174680a696d706f72742074696d650a696d706f72742072616e646f6d0a696d706f727420686173686c69620a66726f6d20747970696e6720696d706f727420446963742c204c6973742c205475706c652c204f7074696f6e616c2c20416e790a66726f6d20636f6c6c656374696f6e7320696d706f72742064656661756c74646963740a0a66726f6d202e646174615f747970657320696d706f727420416374696f6e547970652c20416374696f6e2c20416374696f6e526573756c740a66726f6d202e636f6e66696720696d706f727420426173616c47616e676c6961436f6e6669670a0a0a636c61737320426173616c47616e676c6961456e67696e653a0a202020202222220a20202020eab8b0eca080ed95b520ec9794eca7842028426173616c2047616e676c696120456e67696e65290a202020200a20202020ed9689eb8f9920ec84a0ed839d20ebb08f20ec8ab5eab48020ed9895ec84b120ec8b9cec8aa4ed859c0a202020200a20202020eab5aceca1b03a0a2020202020202020537472696174756d2028ec84a0eca1b0ecb2b429202d20ec9e85eba0a52c20ec8381ed99a92ded9689eb8f9920eba7a4ed95910a20202020202020204750692f534e722028eb8bb4ecb0bdeab5ac29202d20ecb69ceba0a52c20476f2f4e6f476f20eab2b0eca0950a202020202020202053544e2028ec8b9cec8381ed9598ed95b529202d20ec96b5eca09c20eca1b0eca0880a20202020202020200a20202020ed9599ec8ab53a0a2020202020202020eb8f84ed8c8cebafbc20ec8ba0ed98b820eab8b0ebb09820eab095ed9994ed9599ec8ab5202854442d4c6561726e696e67290a202020202222220a202020200a20202020646566205f5f696e69745f5f2873656c662c200a2020202020202020202020202020202020636f6e6669673a204f7074696f6e616c5b426173616c47616e676c6961436f6e6669675d203d204e6f6e652c0a20202020202020202020202020202020207573655f686173683a20626f6f6c203d2046616c7365293a0a20202020202020202222220a2020202020202020eab8b0eca080ed95b520ec9794eca78420ecb488eab8b0ed99940a20202020202020200a2020202020202020417267733a0a202020202020202020202020636f6e6669673a20ec84a4eca09520eab09decb2b420284e6f6e65ec9db4eba9b420eab8b0ebb3b820ec84a4eca09520ec82acec9aa9290a2020202020202020202020207573655f686173683a20eab8b420ecbba8ed858dec8aa4ed8ab8eba5bc20ed95b4ec8b9ceba19c20eca080ec9ea52028eba994ebaaa8eba6ac20ecb59ceca081ed9994290a20202020202020202222220a20202020202020202320ec84a4eca0950a202020202020202073656c662e636f6e666967203d20636f6e66696720696620636f6e66696720656c736520426173616c47616e676c6961436f6e66696728290a20202020202020200a202020202020202023203d3d3d3d3d20512ded858cec9db4ebb8942028ec8381ed99a920e2869220ed9689eb8f9920e2869220eab080ecb99829203d3d3d3d3d0a202020202020202023207b636f6e746578743a207b616374696f6e5f6e616d653a20416374696f6e7d7d0a202020202020202073656c662e715f7461626c653a20446963745b7374722c20446963745b7374722c20416374696f6e5d5d203d2064656661756c74646963742864696374290a20202020202020200a20202020202020202320ecbba8ed858dec8aa4ed8ab820ed95b4ec8bb120ebaaa8eb939c0a202020202020202073656c662e7573655f68617368203d207573655f686173680a20202020202020200a202020202020202023203d3d3d3d3d20eb8f84ed8c8cebafbc20ec8381ed839c203d3d3d3d3d0a202020202020202073656c662e646f70616d696e655f6c6576656c203d2073656c662e636f6e6669672e646f70616d696e655f626173656c696e6520202320ed9884ec9eac20eb8f84ed8c8cebafbc2028307e31290a20202020202020200a202020202020202023203d3d3d3d3d20ecb59ceab7bc20ed9689eb8f9920eab8b0eba19d203d3d3d3d3d0a202020202020202073656c662e726563656e745f616374696f6e733a204c6973745b5475706c655b7374722c207374722c20666c6f61745d5d203d205b5d2020232028636f6e746578742c20616374696f6e2c20726577617264290a20202020202020200a202020202020202023203d3d3d3d3d20ed86b5eab384203d3d3d3d3d0a202020202020202073656c662e7374617473203d207b0a20202020202020202020202027746f74616c5f6465636973696f6e73273a20302c0a2020202020202020202020202768616269745f657865637574696f6e73273a20302c0a2020202020202020202020202764656c696265726174655f657865637574696f6e73273a20302c0a202020202020202020202020276578706c6f726174696f6e73273a20302c0a20202020202020202020202027746f74616c5f726577617264273a20302e302c0a20202020202020207d0a202020200a2020202023203d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d0a202020202320312e20ed9689eb8f9920ec84a0ed839d2028416374696f6e2053656c656374696f6e290a2020202023203d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d0a202020200a202020206465662073656c6563745f616374696f6e2873656c662c200a20202020202020202020202020202020202020202020636f6e746578743a207374722c200a20202020202020202020202020202020202020202020706f737369626c655f616374696f6e733a204c6973745b7374725d2c0a20202020202020202020202020202020202020202020616c6c6f775f6578706c6f726174696f6e3a20626f6f6c203d205472756529202d3e20416374696f6e526573756c743a0a20202020202020202222220a2020202020202020ed9689eb8f9920ec84a0ed839d2028476f2f4e6f476f2f4578706c6f7265290a20202020202020200a2020202020202020312e20ec8ab5eab48020ecb2b4ed81ac20e2869220ec9e90eb8f9920ec8ba4ed96892028466173742050617468290a2020202020202020322e20512deab09220eab8b0ebb09820ec84a0ed839d20e2869220ec9d98ec8b9deca08120eab2b0eca0952028536c6f772050617468290a2020202020202020332e20ed8390ec838920e2869220ec8388eba19cec9ab420ec8b9ceb8f840a20202020202020200a2020202020202020417267733a0a202020202020202020202020636f6e746578743a20ed9884ec9eac20ec8381ed99a92feba7a5eb9dbd0a202020202020202020202020706f737369626c655f616374696f6e733a20eab080eb8aa5ed959c20ed9689eb8f9920ebaaa9eba19d0a202020202020202020202020616c6c6f775f6578706c6f726174696f6e3a20ed8390ec838920ed9788ec9aa920ec97acebb6800a2020202020202020202020200a202020202020202052657475726e733a0a202020202020202020202020416374696f6e526573756c740a20202020202020202222220a202020202020202073656c662e73746174735b27746f74616c5f6465636973696f6e73275d202b3d20310a20202020202020200a20202020202020202320ecbba8ed858dec8aa4ed8ab820eca095eab79ced99940a2020202020202020636f6e74657874203d2073656c662e5f6e6f726d616c697a655f636f6e7465787428636f6e74657874290a20202020202020200a20202020202020202320312e20ec8ab5eab48020ecb2b4ed81ac2028466173742050617468290a202020202020202068616269745f616374696f6e203d2073656c662e5f636865636b5f686162697428636f6e746578742c20706f737369626c655f616374696f6e73290a202020202020202069662068616269745f616374696f6e3a0a20202020202020202020202073656c662e73746174735b2768616269745f657865637574696f6e73275d202b3d20310a20202020202020202020202072657475726e20416374696f6e526573756c74280a20202020202020202020202020202020616374696f6e3d68616269745f616374696f6e2c0a202020202020202020202020202020206465636973696f6e3d416374696f6e547970652e474f2c0a20202020202020202020202020202020636f6e666964656e63653d68616269745f616374696f6e2e68616269745f737472656e6774682c0a2020202020202020202020202020202069735f6175746f6d617469633d547275652c0a20202020202020202020202020202020726561736f6e696e673d6622ec8ab5eab4803a20277b68616269745f616374696f6e2e6e616d657d272028eab095eb8f843a207b68616269745f616374696f6e2e68616269745f737472656e6774683a2e32667d29220a202020202020202020202020290a20202020202020200a20202020202020202320322e20512deab09220eab8b0ebb09820ec84a0ed839d2028536c6f772050617468290a2020202020202020616374696f6e73203d2073656c662e5f6765745f6f725f6372656174655f616374696f6e7328636f6e746578742c20706f737369626c655f616374696f6e73290a20202020202020200a20202020202020206966206e6f7420616374696f6e733a0a2020202020202020202020202320ed9689eb8f9920ec9786ec9d8c0a20202020202020202020202072657475726e20416374696f6e526573756c74280a20202020202020202020202020202020616374696f6e3d416374696f6e286e616d653d226e6f6e65222c20636f6e746578743d636f6e74657874292c0a202020202020202020202020202020206465636973696f6e3d416374696f6e547970652e4e4f474f2c0a20202020202020202020202020202020636f6e666964656e63653d302e302c0a2020202020202020202020202020202069735f6175746f6d617469633d46616c73652c0a20202020202020202020202020202020726561736f6e696e673d22eab080eb8aa5ed959c20ed9689eb8f9920ec9786ec9d8c220a202020202020202020202020290a20202020202020200a20202020202020202320ed8390ec838920767320ed999cec9aa920eab2b0eca0950a2020202020202020696620616c6c6f775f6578706c6f726174696f6e20616e642073656c662e5f73686f756c645f6578706c6f726528293a0a2020202020202020202020202320ed8390ec83893a20eb9e9ceb8da420eb9890eb8a9420eb82aeec9d8020512deab09220ed9689eb8f990a20202020202020202020202073656c662e73746174735b276578706c6f726174696f6e73275d202b3d20310a202020202020202020202020616374696f6e203d2073656c662e5f6578706c6f726528616374696f6e73290a20202020202020202020202072657475726e20416374696f6e526573756c74280a20202020202020202020202020202020616374696f6e3d616374696f6e2c0a202020202020202020202020202020206465636973696f6e3d416374696f6e547970652e4558504c4f52452c0a20202020202020202020202020202020636f6e666964656e63653d302e332c0a2020202020202020202020202020202069735f6175746f6d617469633d46616c73652c0a20202020202020202020202020202020726561736f6e696e673d6622ed8390ec83893a20277b616374696f6e2e6e616d657d272028ec8388eba19cec9ab420ec8b9ceb8f8429220a202020202020202020202020290a20202020202020200a20202020202020202320ed999cec9aa93a20512deab09220eab8b0ebb09820ec868ced9484ed8ab8eba7a5ec8aa420ec84a0ed839d0a202020202020202073656c662e73746174735b2764656c696265726174655f657865637574696f6e73275d202b3d20310a2020202020202020616374696f6e2c20636f6e666964656e6365203d2073656c662e5f6578706c6f697428616374696f6e73290a20202020202020200a20202020202020202320476f2f4e6f476f20eab2b0eca0950a20202020202020206465636973696f6e203d20416374696f6e547970652e474f20696620636f6e666964656e6365203e20302e3320656c736520416374696f6e547970652e4e4f474f0a20202020202020200a202020202020202072657475726e20416374696f6e526573756c74280a202020202020202020202020616374696f6e3d616374696f6e2c0a2020202020202020202020206465636973696f6e3d6465636973696f6e2c0a202020202020202020202020636f6e666964656e63653d636f6e666964656e63652c0a20202020202020202020202069735f6175746f6d617469633d46616c73652c0a202020202020202020202020726561736f6e696e673d6622ec84a0ed839d3a20277b616374696f6e2e6e616d657d272028513d7b616374696f6e2e715f76616c75653a2e32667d2c20ed9995ec8ba03a207b636f6e666964656e63653a2e32667d29220a2020202020202020290a202020200a20202020646566205f636865636b5f68616269742873656c662c20636f6e746578743a207374722c20706f737369626c655f616374696f6e733a204c6973745b7374725d29202d3e204f7074696f6e616c5b416374696f6e5d3a0a20202020202020202222220a2020202020202020ec8ab5eab48020ecb2b4ed81ac0a20202020202020200a2020202020202020ec8ab5eab480ed9994eb909c20ed9689eb8f99ec9db420ec9e88ec9cbceba9b420eca689ec8b9c20ebb098ed99982028466173742050617468290a20202020202020202222220a2020202020202020696620636f6e74657874206e6f7420696e2073656c662e715f7461626c653a0a20202020202020202020202072657475726e204e6f6e650a20202020202020200a2020202020202020666f7220616374696f6e5f6e616d6520696e20706f737369626c655f616374696f6e733a0a202020202020202020202020696620616374696f6e5f6e616d6520696e2073656c662e715f7461626c655b636f6e746578745d3a0a20202020202020202020202020202020616374696f6e203d2073656c662e715f7461626c655b636f6e746578745d5b616374696f6e5f6e616d655d0a20202020202020202020202020202020696620616374696f6e2e69735f68616269743a0a202020202020202020202020202020202020202072657475726e20616374696f6e0a20202020202020200a202020202020202072657475726e204e6f6e650a202020200a20202020646566205f6765745f6f725f6372656174655f616374696f6e732873656c662c20636f6e746578743a207374722c20616374696f6e5f6e616d65733a204c6973745b7374725d29202d3e204c6973745b416374696f6e5d3a0a2020202020202020222222ed9689eb8f9920eab09decb2b420eab080eca0b8ec98a4eab8b020eb9890eb8a9420ec839dec84b12222220a2020202020202020616374696f6e73203d205b5d0a20202020202020200a2020202020202020666f72206e616d6520696e20616374696f6e5f6e616d65733a0a2020202020202020202020206966206e616d6520696e2073656c662e715f7461626c655b636f6e746578745d3a0a20202020202020202020202020202020616374696f6e732e617070656e642873656c662e715f7461626c655b636f6e746578745d5b6e616d655d290a202020202020202020202020656c73653a0a202020202020202020202020202020202320ec838820ed9689eb8f9920ec839dec84b10a20202020202020202020202020202020616374696f6e203d20416374696f6e280a20202020202020202020202020202020202020206e616d653d6e616d652c0a2020202020202020202020202020202020202020636f6e746578743d636f6e746578742c0a2020202020202020202020202020202020202020715f76616c75653d73656c662e636f6e6669672e6578706c6f726174696f6e5f626f6e757320202320ecb488eab8b0eab092ec979020ed8390ec838920ebb3b4eb8488ec8aa40a20202020202020202020202020202020290a2020202020202020202020202020202073656c662e715f7461626c655b636f6e746578745d5b6e616d655d203d20616374696f6e0a20202020202020202020202020202020616374696f6e732e617070656e6428616374696f6e290a20202020202020200a202020202020202072657475726e20616374696f6e730a202020200a20202020646566205f73686f756c645f6578706c6f72652873656c6629202d3e20626f6f6c3a0a20202020202020202222220a2020202020202020ed8390ec8389ed95a0eca78020eab2b0eca0952028657073696c6f6e2d67726565647920ec9ca0ec82ac290a20202020202020200a2020202020202020ec8898ec8b9d3a0a2020202020202020202020206578706c6f72655f70726f62203d20302e31202b202831202d20646f70616d696e655f6c6576656c29202a20302e320a202020202020202020202020e2869220eb8f84ed8c8cebafbcec9db420eb82aeec9cbceba9b420ed8390ec838920eca69deab0802028ec8388eba19cec9ab420ebb3b4ec838120ecb0beeab8b0290a20202020202020202222220a20202020202020206578706c6f72655f70726f62203d20302e31202b202831202d2073656c662e646f70616d696e655f6c6576656c29202a20302e320a202020202020202072657475726e2072616e646f6d2e72616e646f6d2829203c206578706c6f72655f70726f620a202020200a20202020646566205f6578706c6f72652873656c662c20616374696f6e733a204c6973745b416374696f6e5d29202d3e20416374696f6e3a0a20202020202020202222220a2020202020202020ed8390ec83893a20eb82aeec9d8020ec8ba4ed968920ed9a9fec889820ed9689eb8f9920ec84a0ed98b80a20202020202020200a2020202020202020ec8898ec8b9d3a0a20202020202020202020202077656967687473203d205b312e30202f2028657865637574696f6e5f636f756e74202b20312920666f7220616374696f6e20696e20616374696f6e735d0a202020202020202020202020e2869220ec8ba4ed968920ed9a9fec8898eab08020eca081ec9d8020ed9689eb8f99ec979020eb8692ec9d8020eab080eca491ecb9980a20202020202020202222220a202020202020202077656967687473203d205b312e30202f2028612e657865637574696f6e5f636f756e74202b20312920666f72206120696e20616374696f6e735d0a2020202020202020746f74616c203d2073756d2877656967687473290a202020202020202070726f6273203d205b77202f20746f74616c20666f72207720696e20776569676874735d0a20202020202020200a202020202020202072657475726e2072616e646f6d2e63686f6963657328616374696f6e732c20776569676874733d70726f6273295b305d0a202020200a20202020646566205f6578706c6f69742873656c662c20616374696f6e733a204c6973745b416374696f6e5d29202d3e205475706c655b416374696f6e2c20666c6f61745d3a0a20202020202020202222220a2020202020202020ed999cec9aa93a20512deab09220eab8b0ebb09820ec868ced9484ed8ab8eba7a5ec8aa420ec84a0ed839d0a20202020202020200a2020202020202020ec8898ec8b9d3a0a20202020202020202020202050286129203d20657870285128732c6129202f20cf8429202f20cea320657870285128732c612729202f20cf84290a202020202020202020202020e2869220512deab092ec9db420eb8692ec9d84ec8898eba19d20ec84a0ed839d20ed9995eba5a020eca69deab0800a202020202020202020202020e2869220cf842028ec98a8eb8f8429eab08020eb8692ec9d84ec8898eba19d20ed8390ec838920eca69deab0800a20202020202020202222220a2020202020202020746175203d2073656c662e636f6e6669672e7461750a20202020202020200a20202020202020202320ec868ced9484ed8ab8eba7a5ec8aa420ed9995eba5a020eab384ec82b00a2020202020202020715f76616c756573203d205b612e715f76616c756520666f72206120696e20616374696f6e735d0a20202020202020206d61785f71203d206d617828715f76616c7565732920696620715f76616c75657320656c736520300a20202020202020200a20202020202020202320ec8898ecb99820ec9588eca095ec84b1ec9d8420ec9c84ed95b4206d617820ebb9bceab8b00a20202020202020206578705f76616c756573203d205b6d6174682e657870282871202d206d61785f7129202f207461752920666f72207120696e20715f76616c7565735d0a2020202020202020746f74616c203d2073756d286578705f76616c756573290a202020202020202070726f6273203d205b65202f20746f74616c20666f72206520696e206578705f76616c7565735d0a20202020202020200a20202020202020202320ec84a0ed839d0a202020202020202073656c6563746564203d2072616e646f6d2e63686f6963657328616374696f6e732c20776569676874733d70726f6273295b305d0a2020202020202020636f6e666964656e6365203d2070726f62735b616374696f6e732e696e6465782873656c6563746564295d0a20202020202020200a202020202020202072657475726e2073656c65637465642c20636f6e666964656e63650a202020200a20202020646566205f6e6f726d616c697a655f636f6e746578742873656c662c20636f6e746578743a2073747229202d3e207374723a0a20202020202020202222220a2020202020202020ecbba8ed858dec8aa4ed8ab820eca095eab79ced99940a20202020202020200a20202020202020207573655f686173683d5472756520ec8b9c20eab8b420ebacb8ec9e90ec97b420ed95b4ec8bb12028eba994ebaaa8eba6ac20ecb59ceca081ed9994290a20202020202020202222220a20202020202020206e6f726d616c697a6564203d20636f6e746578742e6c6f77657228292e737472697028290a20202020202020200a202020202020202069662073656c662e7573655f6861736820616e64206c656e286e6f726d616c697a656429203e2035303a0a2020202020202020202020202320eab8b420ecbba8ed858dec8aa4ed8ab8eb8a9420ed95b4ec8b9ceba19c20ebb380ed99982028eba994ebaaa8eba6ac20eca088ec95bd290a20202020202020202020202072657475726e20686173686c69622e6d6435286e6f726d616c697a65642e656e636f64652829292e68657864696765737428290a20202020202020200a20202020202020202320eab8b0ebb3b83a203530ec9e90eba19c20ec9e90eba6842028eb9494ebb284eab98520ec9aa9ec9db4290a202020202020202072657475726e206e6f726d616c697a65645b3a35305d0a202020200a2020202023203d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d0a202020202320322e20ed9599ec8ab520284c6561726e696e67290a2020202023203d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d0a202020200a20202020646566206c6561726e2873656c662c20636f6e746578743a207374722c20616374696f6e5f6e616d653a207374722c207265776172643a20666c6f61742c200a20202020202020202020202020206e6578745f636f6e746578743a204f7074696f6e616c5b7374725d203d204e6f6e65293a0a20202020202020202222220a2020202020202020ebb3b4ec838120ed9599ec8ab5202854442d4c6561726e696e67290a20202020202020200a2020202020202020ec8898ec8b9d3a0a2020202020202020202020205128732c612920e28690205128732c6129202b20ceb15b52202b20ceb3c2b76d617828512873272c61272929202d205128732c61295d0a2020202020202020202020200a2020202020202020202020202d20ceb12028616c706861293a20ed9599ec8ab5eba5a00a2020202020202020202020202d20ceb3202867616d6d61293a20ed95a0ec9db8ec9ca82028ebafb8eb9e9820ebb3b4ec8381290a2020202020202020202020202d20523a20ed9884ec9eac20ebb3b4ec83810a2020202020202020202020202d206d617828512873272c612729293a20eb8ba4ec9d8c20ec8381ed839cec9d9820ecb59ceb8c8020512deab0920a20202020202020200a2020202020202020eb8f84ed8c8cebafbc20ebb3b4eca0953a0a2020202020202020202020206c6561726e696e675f72617465203d20616c706861202a2028312e30202b20646f70616d696e655f626f6f7374290a202020202020202020202020e2869220eb8f84ed8c8cebafbcec9db420eb8692ec9cbceba9b420ed9599ec8ab5eba5a020eca69deab0800a20202020202020200a2020202020202020417267733a0a202020202020202020202020636f6e746578743a20ec8381ed99a90a202020202020202020202020616374696f6e5f6e616d653a20ec8ba4ed9689ed959c20ed9689eb8f990a2020202020202020202020207265776172643a20ebb09bec9d8020ebb3b4ec838120282d31207e202b31290a2020202020202020202020206e6578745f636f6e746578743a20eb8ba4ec9d8c20ec8381ed99a920284e6f6e65ec9db4eba9b420eca285eba38c20ec8381ed839c290a20202020202020202222220a2020202020202020636f6e74657874203d2073656c662e5f6e6f726d616c697a655f636f6e7465787428636f6e74657874290a20202020202020200a20202020202020202320ed9689eb8f9920eab080eca0b8ec98a4eab8b00a2020202020202020696620616374696f6e5f6e616d65206e6f7420696e2073656c662e715f7461626c655b636f6e746578745d3a0a20202020202020202020202073656c662e715f7461626c655b636f6e746578745d5b616374696f6e5f6e616d655d203d20416374696f6e280a202020202020202020202020202020206e616d653d616374696f6e5f6e616d652c20636f6e746578743d636f6e746578740a202020202020202020202020290a20202020202020200a2020202020202020616374696f6e203d2073656c662e715f7461626c655b636f6e746578745d5b616374696f6e5f6e616d655d0a20202020202020200a20202020202020202320ec8ba4ed968920eab8b0eba19d0a2020202020202020616374696f6e2e657865637574696f6e5f636f756e74202b3d20310a2020202020202020616374696f6e2e6c6173745f6578656375746564203d2074696d652e74696d6528290a20202020202020200a2020202020202020696620726577617264203e20303a0a202020202020202020202020616374696f6e2e737563636573735f636f756e74202b3d20310a20202020202020200a20202020202020202320544420ec9785eb8db0ec9db4ed8ab80a2020202020202020616c706861203d2073656c662e636f6e6669672e616c7068610a202020202020202067616d6d61203d2073656c662e636f6e6669672e67616d6d610a20202020202020200a20202020202020202320eb8ba4ec9d8c20ec8381ed839cec9d9820ecb59ceb8c8020512deab0920a20202020202020206966206e6578745f636f6e746578743a0a2020202020202020202020206e6578745f636f6e74657874203d2073656c662e5f6e6f726d616c697a655f636f6e74657874286e6578745f636f6e74657874290a2020202020202020202020206e6578745f715f76616c756573203d205b612e715f76616c756520666f72206120696e2073656c662e715f7461626c655b6e6578745f636f6e746578745d2e76616c75657328295d0a2020202020202020202020206d61785f6e6578745f71203d206d6178286e6578745f715f76616c75657329206966206e6578745f715f76616c75657320656c736520300a2020202020202020656c73653a0a2020202020202020202020206d61785f6e6578745f71203d20300a20202020202020200a20202020202020202320512d76616c756520ec9785eb8db0ec9db4ed8ab80a202020202020202074645f6572726f72203d20726577617264202b2067616d6d61202a206d61785f6e6578745f71202d20616374696f6e2e715f76616c75650a20202020202020200a20202020202020202320eb8f84ed8c8cebafbc20ebb3b4eca0952028ebb3b4ec838120eab8b0ebb09820ed9599ec8ab520eab095ed9994290a20202020202020202320eb8f84ed8c8cebafbcec9db420eb8692ec9cbceba9b420ed9599ec8ab5eba5a020eca69deab0802028eab8b0eca480ec84a020eab8b0eca480ec9cbceba19c20c2b1302e35290a2020202020202020646f70616d696e655f626f6f7374203d202873656c662e646f70616d696e655f6c6576656c202d2073656c662e636f6e6669672e646f70616d696e655f626173656c696e6529202a2073656c662e636f6e6669672e646f70616d696e655f626f6f73745f666163746f720a2020202020202020646f70616d696e655f626f6f7374203d206d6178282d302e352c206d696e28302e352c20646f70616d696e655f626f6f73742929202023202d302e35207e20302e35eba19c20eca09ced959c0a20202020202020200a20202020202020202320eb8f84ed8c8cebafbc20ebb3b4eca09520eca081ec9aa93a202831202b20445f626f6f737429eba19c20ed9599ec8ab5eba5a020eca1b0eca0880a20202020202020206c6561726e696e675f72617465203d20616c706861202a2028312e30202b20646f70616d696e655f626f6f7374290a2020202020202020616374696f6e2e715f76616c7565202b3d206c6561726e696e675f72617465202a2074645f6572726f720a20202020202020200a20202020202020202320eb8f84ed8c8cebafbc20ec9785eb8db0ec9db4ed8ab820285444206572726f7220eab8b0ebb098290a202020202020202073656c662e5f7570646174655f646f70616d696e652874645f6572726f72290a20202020202020200a20202020202020202320ec8ab5eab48020eab095ed99942fec95bded99942028ec84b1eab3b52fec8ba4ed8ca820ec8b9c290a2020202020202020696620726577617264203e20303a0a20202020202020202020202073656c662e5f737472656e677468656e5f686162697428616374696f6e290a2020202020202020656c696620726577617264203c20303a0a20202020202020202020202073656c662e5f7765616b656e5f686162697428616374696f6e290a20202020202020200a20202020202020202320eab8b0eba19d0a202020202020202073656c662e726563656e745f616374696f6e732e617070656e642828636f6e746578742c20616374696f6e5f6e616d652c2072657761726429290a202020202020202073656c662e726563656e745f616374696f6e73203d2073656c662e726563656e745f616374696f6e735b2d73656c662e636f6e6669672e6d61785f686973746f72793a5d0a202020202020202073656c662e73746174735b27746f74616c5f726577617264275d202b3d207265776172640a202020200a20202020646566207365745f646f70616d696e655f6c6576656c2873656c662c206c6576656c3a20666c6f617429202d3e204e6f6e653a0a20202020202020202222220a2020202020202020eb8f84ed8c8cebafbc20eba088ebb2a820ec84a4eca0950a20202020202020200a2020202020202020ec99b8ebb68020ebaaa8eb938828ec98883a204879706f7468616c616d757329ec9790ec849c20eb8f84ed8c8cebafbc20eba088ebb2a8ec9d8420eca3bcec9e85ed95a020ec889820ec9e88eb8f84eba19d20ed95a80a20202020202020200a2020202020202020417267733a0a2020202020202020202020206c6576656c3a20eb8f84ed8c8cebafbc20eba088ebb2a82028302e30207e20312e30290a20202020202020202222220a202020202020202073656c662e646f70616d696e655f6c6576656c203d206d617828302e302c206d696e28312e302c206c6576656c29290a202020200a20202020646566205f7570646174655f646f70616d696e652873656c662c2074645f6572726f723a20666c6f6174293a0a20202020202020202222220a2020202020202020eb8f84ed8c8cebafbc20ec9785eb8db0ec9db4ed8ab820285444206572726f7220eab8b0ebb098290a20202020202020200a2020202020202020ec8898ec8b9d3a0a20202020202020202020202064656c7461203d2074645f6572726f72202a20302e310a202020202020202020202020646f70616d696e655f6c6576656c203d20636c616d7028646f70616d696e655f6c6576656c202b2064656c74612c20302c2031290a2020202020202020202020200a2020202020202020202020202d205444206572726f72203e20303a20ec9888ec8381ebb3b4eb8ba420eca28bec9d8c20e2869220eb8f84ed8c8cebafbc20eca69deab0800a2020202020202020202020202d205444206572726f72203c20303a20ec9888ec8381ebb3b4eb8ba420eb8298ec81a820e2869220eb8f84ed8c8cebafbc20eab090ec868c0a20202020202020200a2020202020202020eab8b0eca480ec84a0ec9cbceba19c20ec849cec849ced9e8820ebb3b5eab7803a0a202020202020202020202020646f70616d696e655f6c6576656c202b3d20302e3035202a2028626173656c696e65202d20646f70616d696e655f6c6576656c290a20202020202020202222220a202020202020202023205444206572726f7220eab8b0ebb09820ebb380ed99940a202020202020202064656c7461203d2074645f6572726f72202a20302e310a202020202020202073656c662e646f70616d696e655f6c6576656c203d206d617828302c206d696e28312c2073656c662e646f70616d696e655f6c6576656c202b2064656c746129290a20202020202020200a20202020202020202320eab8b0eca480ec84a0ec9cbceba19c20ec849cec849ced9e8820ebb3b5eab7800a20202020202020206465636179203d20302e30350a202020202020202073656c662e646f70616d696e655f6c6576656c202b3d206465636179202a202873656c662e636f6e6669672e646f70616d696e655f626173656c696e65202d2073656c662e646f70616d696e655f6c6576656c290a202020200a20202020646566205f737472656e677468656e5f68616269742873656c662c20616374696f6e3a20416374696f6e293a0a20202020202020202222220a2020202020202020ec8ab5eab48020eab095ed99940a20202020202020200a2020202020202020ec8898ec8b9d3a0a20202020202020202020202048203d2048202b20ceb2c2b72831202d2048290a202020202020202020202020e2869220eca090eca784eca081ec9cbceba19c2031ec979020eca091eab7bc0a20202020202020202222220a202020202020202062657461203d2073656c662e636f6e6669672e68616269745f626574610a2020202020202020616374696f6e2e68616269745f737472656e677468202b3d2062657461202a202831202d20616374696f6e2e68616269745f737472656e677468290a202020200a20202020646566205f7765616b656e5f68616269742873656c662c20616374696f6e3a20416374696f6e293a0a20202020202020202222220a2020202020202020ec8ab5eab48020ec95bded99940a20202020202020200a2020202020202020ec8898ec8b9d3a0a20202020202020202020202048203d2048202d2028ceb22f3229c2b7480a202020202020202020202020e2869220ec95bded9994eb8a9420eab095ed9994ebb3b4eb8ba420eb8a90eba6aceab28c0a20202020202020202222220a202020202020202062657461203d2073656c662e636f6e6669672e68616269745f62657461202a20302e3520202320ec95bded9994eb8a9420eb8d9420eb8a90eba6aceab28c0a2020202020202020616374696f6e2e68616269745f737472656e677468203d206d617828302c20616374696f6e2e68616269745f737472656e677468202d2062657461290a202020200a2020202023203d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d0a202020202320332e20ec8ab5eab48020eab480eba6ac0a2020202023203d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d0a202020200a20202020646566206765745f6861626974732873656c6629202d3e204c6973745b416374696f6e5d3a0a2020202020202020222222ebaaa8eb93a020ec8ab5eab480ed9994eb909c20ed9689eb8f9920ebb098ed99982222220a2020202020202020686162697473203d205b5d0a2020202020202020666f7220636f6e746578742c20616374696f6e7320696e2073656c662e715f7461626c652e6974656d7328293a0a202020202020202020202020666f7220616374696f6e20696e20616374696f6e732e76616c75657328293a0a20202020202020202020202020202020696620616374696f6e2e69735f68616269743a0a20202020202020202020202020202020202020206861626974732e617070656e6428616374696f6e290a202020202020202072657475726e206861626974730a202020200a2020202064656620627265616b5f68616269742873656c662c20636f6e746578743a207374722c20616374696f6e5f6e616d653a20737472293a0a2020202020202020222222ec8ab5eab48020eab9a8eab8b02222220a2020202020202020636f6e74657874203d2073656c662e5f6e6f726d616c697a655f636f6e7465787428636f6e74657874290a2020202020202020696620636f6e7465787420696e2073656c662e715f7461626c6520616e6420616374696f6e5f6e616d6520696e2073656c662e715f7461626c655b636f6e746578745d3a0a20202020202020202020202073656c662e715f7461626c655b636f6e746578745d5b616374696f6e5f6e616d655d2e68616269745f737472656e677468203d20302e300a202020200a202020206465662064656361795f616c6c2873656c66293a0a20202020202020202222220a2020202020202020ebaaa8eb93a020512deab09220eab090ec87a02028ec82acec9aa9ed9598eca78020ec958aeb8a9420ed9689eb8f9920ec9e8aeab8b0290a20202020202020200a2020202020202020ec8898ec8b9d3a0a2020202020202020202020205128732c6129203d205128732c6129202a202831202d2064656361795f72617465290a20202020202020202222220a20202020202020206465636179203d2073656c662e636f6e6669672e64656361795f726174650a2020202020202020666f7220636f6e746578742c20616374696f6e7320696e2073656c662e715f7461626c652e6974656d7328293a0a202020202020202020202020666f7220616374696f6e20696e20616374696f6e732e76616c75657328293a0a20202020202020202020202020202020616374696f6e2e715f76616c7565202a3d202831202d206465636179290a202020202020202020202020202020202320eb8488ebacb420ec98a4eb9e98eb909c20ec8ab5eab480eb8f8420ec95bded99940a2020202020202020202020202020202074696d655f73696e6365203d2074696d652e74696d652829202d20616374696f6e2e6c6173745f65786563757465640a2020202020202020202020202020202069662074696d655f73696e6365203e20333630303a2020232031ec8b9ceab08420ec9db4ec83810a2020202020202020202020202020202020202020616374696f6e2e68616269745f737472656e677468202a3d20302e39390a202020200a2020202023203d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d0a202020202320342e20ec8381ed839c20eca1b0ed9a8c0a2020202023203d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d0a202020200a20202020646566206765745f626573745f616374696f6e2873656c662c20636f6e746578743a2073747229202d3e204f7074696f6e616c5b416374696f6e5d3a0a2020202020202020222222ed8ab9eca09520ec8381ed99a9ec9790ec849c20ecb59cec84a0ec9d9820ed9689eb8f992222220a2020202020202020636f6e74657874203d2073656c662e5f6e6f726d616c697a655f636f6e7465787428636f6e74657874290a2020202020202020696620636f6e74657874206e6f7420696e2073656c662e715f7461626c653a0a20202020202020202020202072657475726e204e6f6e650a20202020202020200a2020202020202020616374696f6e73203d206c6973742873656c662e715f7461626c655b636f6e746578745d2e76616c7565732829290a20202020202020206966206e6f7420616374696f6e733a0a20202020202020202020202072657475726e204e6f6e650a20202020202020200a202020202020202072657475726e206d617828616374696f6e732c206b65793d6c616d62646120613a20612e715f76616c7565290a202020200a20202020646566206765745f73746174652873656c6629202d3e20446963745b7374722c20416e795d3a0a2020202020202020222222eca084ecb2b420ec8381ed839c20ebb098ed99982222220a2020202020202020686162697473203d2073656c662e6765745f68616269747328290a20202020202020200a202020202020202072657475726e207b0a20202020202020202020202027646f70616d696e65273a20726f756e642873656c662e646f70616d696e655f6c6576656c2c2033292c0a20202020202020202020202027746f74616c5f636f6e7465787473273a206c656e2873656c662e715f7461626c65292c0a20202020202020202020202027746f74616c5f616374696f6e73273a2073756d286c656e28612920666f72206120696e2073656c662e715f7461626c652e76616c7565732829292c0a20202020202020202020202027686162697473273a205b0a202020202020202020202020202020207b0a202020202020202020202020202020202020202027636f6e74657874273a20682e636f6e746578742c200a202020202020202020202020202020202020202027616374696f6e273a20682e6e616d652c200a202020202020202020202020202020202020202027737472656e677468273a20726f756e6428682e68616269745f737472656e6774682c2033290a202020202020202020202020202020207d0a20202020202020202020202020202020666f72206820696e206861626974735b3a355d20202320ec8381ec9c842035eab09c0a2020202020202020202020205d2c0a202020202020202020202020277374617473273a2073656c662e73746174732e636f707928292c0a20202020202020207d0a202020200a20202020646566206765745f73746174732873656c6629202d3e20446963745b7374722c20416e795d3a0a2020202020202020222222ed86b5eab38420ebb098ed99982222220a202020202020202072657475726e2073656c662e73746174732e636f707928290a0a",
      "raw_text": "\"\"\"\nBasal Ganglia Engine\n기저핵 엔진 - 행동 선택 및 습관 형성 시스템\n\nAuthor: GNJz (Qquarts)\nVersion: 1.0.0-alpha\n\n생물학적 모델:\n    기저핵 = 뇌의 \"행동 게이트키퍼\"\n    \n    1. 행동 선택 (Action Selection)\n       - 여러 행동 옵션 중 하나만 실행 (Go/NoGo)\n       - 나머지는 억제\n       \n    2. 습관 형성 (Habit Formation)\n       - 반복된 행동 → 자동화\n       - 전두엽 우회 → 빠른 실행\n       \n    3. 보상 학습 (Reward Learning)\n       - 도파민 신호 기반\n       - Q-Learning과 유사\n\n핵심 수식:\n    Q-value 업데이트: Q(s,a) ← Q(s,a) + α[R + γ·max(Q(s',a')) - Q(s,a)]\n    행동 선택: P(a) = softmax(Q(s,a) / τ)\n    습관 강도: H = H + β·(success - H)\n    도파민 보정: Q_update = Q_update · (1 + D_boost)\n\n참고 논문:\n    - Schultz (1997): Dopamine reward prediction\n    - Graybiel (2008): Habits, rituals, and the evaluative brain\n    - Frank (2005): Go/NoGo model of basal ganglia\n\"\"\"\n\nimport math\nimport time\nimport random\nimport hashlib\nfrom typing import Dict, List, Tuple, Optional, Any\nfrom collections import defaultdict\n\nfrom .data_types import ActionType, Action, ActionResult\nfrom .config import BasalGangliaConfig\n\n\nclass BasalGangliaEngine:\n    \"\"\"\n    기저핵 엔진 (Basal Ganglia Engine)\n    \n    행동 선택 및 습관 형성 시스템\n    \n    구조:\n        Striatum (선조체) - 입력, 상황-행동 매핑\n        GPi/SNr (담창구) - 출력, Go/NoGo 결정\n        STN (시상하핵) - 억제 조절\n        \n    학습:\n        도파민 신호 기반 강화학습 (TD-Learning)\n    \"\"\"\n    \n    def __init__(self, \n                 config: Optional[BasalGangliaConfig] = None,\n                 use_hash: bool = False):\n        \"\"\"\n        기저핵 엔진 초기화\n        \n        Args:\n            config: 설정 객체 (None이면 기본 설정 사용)\n            use_hash: 긴 컨텍스트를 해시로 저장 (메모리 최적화)\n        \"\"\"\n        # 설정\n        self.config = config if config else BasalGangliaConfig()\n        \n        # ===== Q-테이블 (상황 → 행동 → 가치) =====\n        # {context: {action_name: Action}}\n        self.q_table: Dict[str, Dict[str, Action]] = defaultdict(dict)\n        \n        # 컨텍스트 해싱 모드\n        self.use_hash = use_hash\n        \n        # ===== 도파민 상태 =====\n        self.dopamine_level = self.config.dopamine_baseline  # 현재 도파민 (0~1)\n        \n        # ===== 최근 행동 기록 =====\n        self.recent_actions: List[Tuple[str, str, float]] = []  # (context, action, reward)\n        \n        # ===== 통계 =====\n        self.stats = {\n            'total_decisions': 0,\n            'habit_executions': 0,\n            'deliberate_executions': 0,\n            'explorations': 0,\n            'total_reward': 0.0,\n        }\n    \n    # ============================================\n    # 1. 행동 선택 (Action Selection)\n    # ============================================\n    \n    def select_action(self, \n                      context: str, \n                      possible_actions: List[str],\n                      allow_exploration: bool = True) -> ActionResult:\n        \"\"\"\n        행동 선택 (Go/NoGo/Explore)\n        \n        1. 습관 체크 → 자동 실행 (Fast Path)\n        2. Q-값 기반 선택 → 의식적 결정 (Slow Path)\n        3. 탐색 → 새로운 시도\n        \n        Args:\n            context: 현재 상황/맥락\n            possible_actions: 가능한 행동 목록\n            allow_exploration: 탐색 허용 여부\n            \n        Returns:\n            ActionResult\n        \"\"\"\n        self.stats['total_decisions'] += 1\n        \n        # 컨텍스트 정규화\n        context = self._normalize_context(context)\n        \n        # 1. 습관 체크 (Fast Path)\n        habit_action = self._check_habit(context, possible_actions)\n        if habit_action:\n            self.stats['habit_executions'] += 1\n            return ActionResult(\n                action=habit_action,\n                decision=ActionType.GO,\n                confidence=habit_action.habit_strength,\n                is_automatic=True,\n                reasoning=f\"습관: '{habit_action.name}' (강도: {habit_action.habit_strength:.2f})\"\n            )\n        \n        # 2. Q-값 기반 선택 (Slow Path)\n        actions = self._get_or_create_actions(context, possible_actions)\n        \n        if not actions:\n            # 행동 없음\n            return ActionResult(\n                action=Action(name=\"none\", context=context),\n                decision=ActionType.NOGO,\n                confidence=0.0,\n                is_automatic=False,\n                reasoning=\"가능한 행동 없음\"\n            )\n        \n        # 탐색 vs 활용 결정\n        if allow_exploration and self._should_explore():\n            # 탐색: 랜덤 또는 낮은 Q-값 행동\n            self.stats['explorations'] += 1\n            action = self._explore(actions)\n            return ActionResult(\n                action=action,\n                decision=ActionType.EXPLORE,\n                confidence=0.3,\n                is_automatic=False,\n                reasoning=f\"탐색: '{action.name}' (새로운 시도)\"\n            )\n        \n        # 활용: Q-값 기반 소프트맥스 선택\n        self.stats['deliberate_executions'] += 1\n        action, confidence = self._exploit(actions)\n        \n        # Go/NoGo 결정\n        decision = ActionType.GO if confidence > 0.3 else ActionType.NOGO\n        \n        return ActionResult(\n            action=action,\n            decision=decision,\n            confidence=confidence,\n            is_automatic=False,\n            reasoning=f\"선택: '{action.name}' (Q={action.q_value:.2f}, 확신: {confidence:.2f})\"\n        )\n    \n    def _check_habit(self, context: str, possible_actions: List[str]) -> Optional[Action]:\n        \"\"\"\n        습관 체크\n        \n        습관화된 행동이 있으면 즉시 반환 (Fast Path)\n        \"\"\"\n        if context not in self.q_table:\n            return None\n        \n        for action_name in possible_actions:\n            if action_name in self.q_table[context]:\n                action = self.q_table[context][action_name]\n                if action.is_habit:\n                    return action\n        \n        return None\n    \n    def _get_or_create_actions(self, context: str, action_names: List[str]) -> List[Action]:\n        \"\"\"행동 객체 가져오기 또는 생성\"\"\"\n        actions = []\n        \n        for name in action_names:\n            if name in self.q_table[context]:\n                actions.append(self.q_table[context][name])\n            else:\n                # 새 행동 생성\n                action = Action(\n                    name=name,\n                    context=context,\n                    q_value=self.config.exploration_bonus  # 초기값에 탐색 보너스\n                )\n                self.q_table[context][name] = action\n                actions.append(action)\n        \n        return actions\n    \n    def _should_explore(self) -> bool:\n        \"\"\"\n        탐색할지 결정 (epsilon-greedy 유사)\n        \n        수식:\n            explore_prob = 0.1 + (1 - dopamine_level) * 0.2\n            → 도파민이 낮으면 탐색 증가 (새로운 보상 찾기)\n        \"\"\"\n        explore_prob = 0.1 + (1 - self.dopamine_level) * 0.2\n        return random.random() < explore_prob\n    \n    def _explore(self, actions: List[Action]) -> Action:\n        \"\"\"\n        탐색: 낮은 실행 횟수 행동 선호\n        \n        수식:\n            weights = [1.0 / (execution_count + 1) for action in actions]\n            → 실행 횟수가 적은 행동에 높은 가중치\n        \"\"\"\n        weights = [1.0 / (a.execution_count + 1) for a in actions]\n        total = sum(weights)\n        probs = [w / total for w in weights]\n        \n        return random.choices(actions, weights=probs)[0]\n    \n    def _exploit(self, actions: List[Action]) -> Tuple[Action, float]:\n        \"\"\"\n        활용: Q-값 기반 소프트맥스 선택\n        \n        수식:\n            P(a) = exp(Q(s,a) / τ) / Σ exp(Q(s,a') / τ)\n            → Q-값이 높을수록 선택 확률 증가\n            → τ (온도)가 높을수록 탐색 증가\n        \"\"\"\n        tau = self.config.tau\n        \n        # 소프트맥스 확률 계산\n        q_values = [a.q_value for a in actions]\n        max_q = max(q_values) if q_values else 0\n        \n        # 수치 안정성을 위해 max 빼기\n        exp_values = [math.exp((q - max_q) / tau) for q in q_values]\n        total = sum(exp_values)\n        probs = [e / total for e in exp_values]\n        \n        # 선택\n        selected = random.choices(actions, weights=probs)[0]\n        confidence = probs[actions.index(selected)]\n        \n        return selected, confidence\n    \n    def _normalize_context(self, context: str) -> str:\n        \"\"\"\n        컨텍스트 정규화\n        \n        use_hash=True 시 긴 문자열 해싱 (메모리 최적화)\n        \"\"\"\n        normalized = context.lower().strip()\n        \n        if self.use_hash and len(normalized) > 50:\n            # 긴 컨텍스트는 해시로 변환 (메모리 절약)\n            return hashlib.md5(normalized.encode()).hexdigest()\n        \n        # 기본: 50자로 자름 (디버깅 용이)\n        return normalized[:50]\n    \n    # ============================================\n    # 2. 학습 (Learning)\n    # ============================================\n    \n    def learn(self, context: str, action_name: str, reward: float, \n              next_context: Optional[str] = None):\n        \"\"\"\n        보상 학습 (TD-Learning)\n        \n        수식:\n            Q(s,a) ← Q(s,a) + α[R + γ·max(Q(s',a')) - Q(s,a)]\n            \n            - α (alpha): 학습률\n            - γ (gamma): 할인율 (미래 보상)\n            - R: 현재 보상\n            - max(Q(s',a')): 다음 상태의 최대 Q-값\n        \n        도파민 보정:\n            learning_rate = alpha * (1.0 + dopamine_boost)\n            → 도파민이 높으면 학습률 증가\n        \n        Args:\n            context: 상황\n            action_name: 실행한 행동\n            reward: 받은 보상 (-1 ~ +1)\n            next_context: 다음 상황 (None이면 종료 상태)\n        \"\"\"\n        context = self._normalize_context(context)\n        \n        # 행동 가져오기\n        if action_name not in self.q_table[context]:\n            self.q_table[context][action_name] = Action(\n                name=action_name, context=context\n            )\n        \n        action = self.q_table[context][action_name]\n        \n        # 실행 기록\n        action.execution_count += 1\n        action.last_executed = time.time()\n        \n        if reward > 0:\n            action.success_count += 1\n        \n        # TD 업데이트\n        alpha = self.config.alpha\n        gamma = self.config.gamma\n        \n        # 다음 상태의 최대 Q-값\n        if next_context:\n            next_context = self._normalize_context(next_context)\n            next_q_values = [a.q_value for a in self.q_table[next_context].values()]\n            max_next_q = max(next_q_values) if next_q_values else 0\n        else:\n            max_next_q = 0\n        \n        # Q-value 업데이트\n        td_error = reward + gamma * max_next_q - action.q_value\n        \n        # 도파민 보정 (보상 기반 학습 강화)\n        # 도파민이 높으면 학습률 증가 (기준선 기준으로 ±0.5)\n        dopamine_boost = (self.dopamine_level - self.config.dopamine_baseline) * self.config.dopamine_boost_factor\n        dopamine_boost = max(-0.5, min(0.5, dopamine_boost))  # -0.5 ~ 0.5로 제한\n        \n        # 도파민 보정 적용: (1 + D_boost)로 학습률 조절\n        learning_rate = alpha * (1.0 + dopamine_boost)\n        action.q_value += learning_rate * td_error\n        \n        # 도파민 업데이트 (TD error 기반)\n        self._update_dopamine(td_error)\n        \n        # 습관 강화/약화 (성공/실패 시)\n        if reward > 0:\n            self._strengthen_habit(action)\n        elif reward < 0:\n            self._weaken_habit(action)\n        \n        # 기록\n        self.recent_actions.append((context, action_name, reward))\n        self.recent_actions = self.recent_actions[-self.config.max_history:]\n        self.stats['total_reward'] += reward\n    \n    def set_dopamine_level(self, level: float) -> None:\n        \"\"\"\n        도파민 레벨 설정\n        \n        외부 모듈(예: Hypothalamus)에서 도파민 레벨을 주입할 수 있도록 함\n        \n        Args:\n            level: 도파민 레벨 (0.0 ~ 1.0)\n        \"\"\"\n        self.dopamine_level = max(0.0, min(1.0, level))\n    \n    def _update_dopamine(self, td_error: float):\n        \"\"\"\n        도파민 업데이트 (TD error 기반)\n        \n        수식:\n            delta = td_error * 0.1\n            dopamine_level = clamp(dopamine_level + delta, 0, 1)\n            \n            - TD error > 0: 예상보다 좋음 → 도파민 증가\n            - TD error < 0: 예상보다 나쁨 → 도파민 감소\n        \n        기준선으로 서서히 복귀:\n            dopamine_level += 0.05 * (baseline - dopamine_level)\n        \"\"\"\n        # TD error 기반 변화\n        delta = td_error * 0.1\n        self.dopamine_level = max(0, min(1, self.dopamine_level + delta))\n        \n        # 기준선으로 서서히 복귀\n        decay = 0.05\n        self.dopamine_level += decay * (self.config.dopamine_baseline - self.dopamine_level)\n    \n    def _strengthen_habit(self, action: Action):\n        \"\"\"\n        습관 강화\n        \n        수식:\n            H = H + β·(1 - H)\n            → 점진적으로 1에 접근\n        \"\"\"\n        beta = self.config.habit_beta\n        action.habit_strength += beta * (1 - action.habit_strength)\n    \n    def _weaken_habit(self, action: Action):\n        \"\"\"\n        습관 약화\n        \n        수식:\n            H = H - (β/2)·H\n            → 약화는 강화보다 느리게\n        \"\"\"\n        beta = self.config.habit_beta * 0.5  # 약화는 더 느리게\n        action.habit_strength = max(0, action.habit_strength - beta)\n    \n    # ============================================\n    # 3. 습관 관리\n    # ============================================\n    \n    def get_habits(self) -> List[Action]:\n        \"\"\"모든 습관화된 행동 반환\"\"\"\n        habits = []\n        for context, actions in self.q_table.items():\n            for action in actions.values():\n                if action.is_habit:\n                    habits.append(action)\n        return habits\n    \n    def break_habit(self, context: str, action_name: str):\n        \"\"\"습관 깨기\"\"\"\n        context = self._normalize_context(context)\n        if context in self.q_table and action_name in self.q_table[context]:\n            self.q_table[context][action_name].habit_strength = 0.0\n    \n    def decay_all(self):\n        \"\"\"\n        모든 Q-값 감쇠 (사용하지 않는 행동 잊기)\n        \n        수식:\n            Q(s,a) = Q(s,a) * (1 - decay_rate)\n        \"\"\"\n        decay = self.config.decay_rate\n        for context, actions in self.q_table.items():\n            for action in actions.values():\n                action.q_value *= (1 - decay)\n                # 너무 오래된 습관도 약화\n                time_since = time.time() - action.last_executed\n                if time_since > 3600:  # 1시간 이상\n                    action.habit_strength *= 0.99\n    \n    # ============================================\n    # 4. 상태 조회\n    # ============================================\n    \n    def get_best_action(self, context: str) -> Optional[Action]:\n        \"\"\"특정 상황에서 최선의 행동\"\"\"\n        context = self._normalize_context(context)\n        if context not in self.q_table:\n            return None\n        \n        actions = list(self.q_table[context].values())\n        if not actions:\n            return None\n        \n        return max(actions, key=lambda a: a.q_value)\n    \n    def get_state(self) -> Dict[str, Any]:\n        \"\"\"전체 상태 반환\"\"\"\n        habits = self.get_habits()\n        \n        return {\n            'dopamine': round(self.dopamine_level, 3),\n            'total_contexts': len(self.q_table),\n            'total_actions': sum(len(a) for a in self.q_table.values()),\n            'habits': [\n                {\n                    'context': h.context, \n                    'action': h.name, \n                    'strength': round(h.habit_strength, 3)\n                }\n                for h in habits[:5]  # 상위 5개\n            ],\n            'stats': self.stats.copy(),\n        }\n    \n    def get_stats(self) -> Dict[str, Any]:\n        \"\"\"통계 반환\"\"\"\n        return self.stats.copy()\n\n"
    },
    "previous_hash": "0",
    "hash": "4527ca00b2266f4ddc1ca549dc3089905a59d3127abcf7cbbf027e27f8c39b80"
  }
]